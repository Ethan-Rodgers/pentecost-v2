let e=[],t={};function n(){if(console.log("enterWords"),""===document.querySelector(".words-input").value){e=[];return}e=document.querySelector(".words-input").value.split("\n"),document.querySelector(".words-input").value.length>=6&&"\n\n\n\n\n\n"!==document.querySelector(".words-input").value.slice(0,6)&&(document.querySelector(".words-input").value="\n\n\n\n\n\n"+document.querySelector(".words-input").value);for(let t=0;t<e.length;t++){if(""===e[t].trim()){e.splice(t,1),t--;continue}if(-1!==e[t].indexOf("("))e[t]={target:e[t].slice(0,e[t].indexOf("(")).trim(),trans:e[t].slice(e[t].indexOf("(")+1,e[t].indexOf(")")).trim(),en:e[t].slice(e[t].indexOf(")")+1).trim()};else if(-1!==e[t].indexOf("（"))e[t]={target:e[t].slice(0,e[t].indexOf("（")).trim(),trans:e[t].slice(e[t].indexOf("（")+1,e[t].indexOf("）")).trim(),en:e[t].slice(e[t].indexOf("）")+1).trim()};else{let n=-1;for(let r of"QWERTYUIOPASDFGHJKLZXCVBNM")n=1+e[t].slice(1).indexOf(r)||n;e[t]={target:e[t].slice(0,n).trim(),en:e[t].slice(n).trim()}}}}function r(){let n={...t};if(0===e.length){t={};return}if(1===e.length)t=e[0];else for(;JSON.stringify(n)===JSON.stringify(t);)t=e[Math.floor(Math.random()*e.length)]}function o(){if(r(),console.log(e,t,"nextTypePrompt"),!t.en||!t.target){document.querySelector(".type-prompt").textContent="-";return}"target"===document.querySelector(".type-prompt-language").value?document.querySelector(".type-prompt").textContent=t.target:"en"===document.querySelector(".type-prompt-language").value&&(document.querySelector(".type-prompt").textContent=t.en)}document.querySelector(".mode-select").addEventListener("change",function(){let e=document.querySelector(".mode-select").value;"flashcards"===e?(document.querySelector(".flashcards").style.display="block",document.querySelector(".type").style.display="none"):"type"===e?(document.querySelector(".flashcards").style.display="none",document.querySelector(".type").style.display="block"):(document.querySelector(".flashcards").style.display="none",document.querySelector(".type").style.display="none")}),document.querySelector(".next").addEventListener("click",function(){r();let n=document.querySelector(".flashcard");if(console.log(e,t,"nextFlashcard"),!t.en||!t.target){n.textContent="-";return}"target"===document.querySelector(".flashcard-front-language").value?t.trans?n.textContent=`${t.target} (${t.trans})`:n.textContent=t.target:"en"===document.querySelector(".flashcard-front-language").value&&(n.textContent=t.en)}),document.querySelector(".flashcard").addEventListener("click",function(){let n=document.querySelector(".flashcard");console.log(e,t,"flip"),!t.trans&&n.textContent===t.target||t.trans&&n.textContent===`${t.target} (${t.trans})`?n.textContent=t.en:n.textContent===t.en&&(t.trans?n.textContent=`${t.target} (${t.trans})`:n.textContent=t.target)}),document.querySelector(".type-prompt-language").addEventListener("change",o),document.querySelector(".words-input").addEventListener("input",n),document.querySelector(".type-enter").addEventListener("click",function(){let e=document.querySelector(".type-prompt-language").value,n=0;function r(){t.trans&&("target"===e?document.querySelector(".type-prompt").textContent+=` (${t.trans})`:"en"===e&&(document.querySelector(".type-attempt").value+=` (${t.trans})`))}"target"===e?n=document.querySelector(".type-attempt").value.toLowerCase()===t.en.toLowerCase():"en"===e&&(n=document.querySelector(".type-attempt").value.toLowerCase()===t.target.toLowerCase()),document.querySelector(".type-prompt").style.color="black",n?(document.querySelector(".type").style.backgroundColor="green",r(),setTimeout(()=>{document.querySelector(".type").style.backgroundColor="",document.querySelector(".type-prompt").style.color="#808080",document.querySelector(".type-attempt").value="",o()},3e3)):(document.querySelector(".type").style.backgroundColor="red",setTimeout(()=>{"target"===e?document.querySelector(".type-attempt").value=t.en:"en"===e&&(document.querySelector(".type-attempt").value=t.target),r()},1e3),setTimeout(()=>{document.querySelector(".type").style.backgroundColor="",document.querySelector(".type-prompt").style.color="#808080",document.querySelector(".type-attempt").value="",o()},4e3))}),document.querySelector(".clear-words").addEventListener("click",function(){document.querySelector(".words-input").value="",n()});
//# sourceMappingURL=word_drills.31b4adc7.js.map
